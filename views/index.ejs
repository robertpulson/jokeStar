<!DOCTYPE html>

<html lang='en' ng-app='comedyApp'>

  <head>
    <title>Comedy Store</title>

    <link rel='stylesheet' href='/stylesheets/bootstrap.min.css'>
    <link rel='stylesheet' href='/stylesheets/style.css'>

    <script src='/javascripts/angular.js'></script>
    <script src='/javascripts/angular-resource.js'></script>
    <script src='/javascripts/angular-ui-router.js'></script>
    <script src='/javascripts/app.js'></script>
  </head>

    <body>

      <nav role='navigation' class='navbar navbar-default pull-right' ng-controller='NavCtrl'>  
        <div class='navbar-header'>
          <a href='#' class='navbar-brand'>Comedy Store</a>
          <ul class='nav navbar-nav'>
            <li ng-show='isLoggedIn()'> <a> {{ currentUser() }} </a> </li>
            <li ng-show="isLoggedIn()"> <a href="" ng-click="logOut()">Log Out</a> </li>
            <li ng-hide="isLoggedIn()"> <a href="/#/login">Log In</a> </li>
            <li ng-hide="isLoggedIn()"> <a href="/#/register">Register</a> </li>
          </ul>
        </div>
      </nav>

      <div ng-show="error" class="alert alert-danger row">
        <span>{{ error.message }}</span>
      </div>

      <ui-view></ui-view>

      <script type='text/ng-template' id='/home.html'>
        <div class='alert alert-success' role='alert'>{{ randomJoke }}</div>
      </script>

      <script type='text/ng-template' id='/login.html'>

        <form ng-submit='logIn()' style='margin-top:30px;'>
          <h3>Log In</h3>
          <div class='form-group'>
            <input type='text' class='form-control' placeholder='Username' ng-model='user.username'>
          </div>
          <div class='form-group'>
            <input type='password' class='form-control' placeholder='Password' ng-model='user.password'>
          </div>
          <button type='submit' class='btn btn-primary'>Log In</button>
        </form>

      </script>

      <script type='text/ng-template' id='/register.html'>

        <form ng-submit='register()' style='margin-top:30px;'>
          <h3>Register</h3>
          <div class='form-group'>
            <input type='text' class='form-control' placeholder='Username' ng-model='user.username'>
          </div>
          <div class='form-group'>
            <input type='password' class='form-control' placeholder='Password' ng-model='user.password'>
          </div>
          <button type='submit' class='btn btn-primary'>Register</button>
        </form>

      </script>

        <div class='row'>
          <div class='col-sm-6 col-md-4'>
            <div class='thumbnail'>
              <div class='caption'>
                <h3>The Cutting Edge</h3>
                <h4>Tue - 8:00pm</h4>
                <h5>£14/£9 Concession</h5>
                <p>Ian Stone, Jarred Christmas, Scott Capurro, Ben Norris, Imran Yusuf, Rob Deering.  Doors open from 6.30pm - Happy Hour at the bar 6.30pm - 7.30pm.</p>
              </div>
            </div>
          </div>

          <div class='col-sm-6 col-md-4'>
            <div class='thumbnail'>
              <div class='caption'>
                <h3>Comedy Store Players</h3>
                <h4>Wed - 8:00pm</h4>
                <h5>£17/£12 Concession</h5>
                <p>Josie Lawrence, Neil Mullarkey, Richard Vranch, Phelim McDermott, Pippa Evans, Mike McShane. Doors open from 6.30pm - Happy Hour at the bar 6.30pm - 7.30pm.</p>
              </div>
            </div>
          </div>

          <div class='col-sm-6 col-md-4'>
            <div class='thumbnail'>
              <div class='caption'>
                <h3>The Best In Stand Up</h3>
                <h4>Thu - 8:00pm</h4>
                <h5>£18/£13 Concession</h5>
                <p>MC Ben Norris, Addy Van Der Borgh, Glenn Wool, Jeff Innocent, Ian Stone plus open spots. Doors open from 6.30pm - Happy Hour at the bar 6.30pm - 7.30pm.</p>
              </div>
            </div>
          </div>

        </div>

    </body>
</html>
